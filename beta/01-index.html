<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ConciergeSync™ Console</title>
<style>
  :root{
    --glass-bg: rgba(255,255,255,.12);
    --glass-border: rgba(255,255,255,.28);
    --overlay-grad-top: rgba(0,0,0,.35);
    --overlay-grad-bot: rgba(0,0,0,.58);
    --overlay: .30;
    --ui: 4000;
  }

  *{box-sizing:border-box;}
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;background:#0b0f14;color:#eef2f8;}

  /* Backdrop */
  .backdrop{position:fixed;inset:0;z-index:0;overflow:hidden;}
  .backdrop-image{
    position:absolute;inset:0;
    background:url('/beta/assets/bg/dfw-hero.jpg') center/cover no-repeat;
    filter:brightness(1.12) contrast(1.05);
    transform:scale(1.03);
    opacity:.999;
  }
  .backdrop-overlay{
    position:absolute;inset:0;pointer-events:none;
    background:linear-gradient(to bottom,var(--overlay-grad-top),var(--overlay-grad-bot));
    opacity:var(--overlay);
  }

  /* Tabs */
  .cs-tabs{
    position:fixed;top:18px;left:50%;transform:translateX(-50%);
    z-index:var(--ui);
    display:flex;gap:10px;padding:10px 12px;
    background:rgba(15,15,18,.36);
    border:1px solid rgba(255,255,255,.25);
    border-radius:14px;backdrop-filter:blur(8px) saturate(1.1);
  }
  .cs-tab{
    padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.18);
    background:rgba(255,255,255,.07);color:#fff;font-weight:700;cursor:pointer;
  }
  .cs-tab:hover{background:rgba(255,255,255,.12);}

  /* Exit */
  .console-exit{
    position:fixed;top:18px;right:18px;z-index:var(--ui);
    width:40px;height:40px;border-radius:10px;
    border:1px solid rgba(255,255,255,.35);
    background:rgba(20,20,20,.45);
    color:#fff;font-size:28px;line-height:36px;text-align:center;cursor:pointer;
    backdrop-filter:blur(8px) saturate(1.1);
  }

  /* Stage */
  #cs-tiles{position:fixed;inset:0;z-index:10;pointer-events:auto;}

  /* Tiles */
  .cs-tile{
    position:absolute;
    width:420px;min-height:320px;max-height:76vh;
    display:grid;grid-template-rows:auto 1fr;
    background:var(--glass-bg);color:#f5f7fb;
    border:1px solid var(--glass-border);
    border-radius:18px;
    box-shadow:0 10px 30px rgba(0,0,0,.22);
    backdrop-filter:blur(12px) saturate(1.22);
    overflow:hidden;pointer-events:auto;user-select:none;
    transition:box-shadow 0.2s ease;
  }
  .cs-tile.is-focused{box-shadow:0 16px 44px rgba(0,0,0,.32),0 0 0 1px rgba(255,255,255,.18) inset;}
  .cs-tile-head{
    display:flex;align-items:center;justify-content:space-between;
    padding:12px 14px;background:rgba(0,0,0,.18);
    border-bottom:1px solid rgba(255,255,255,.18);
  }
  .cs-tile-head h4{margin:0;font-size:15px;font-weight:800;}
  .cs-close{
    width:30px;height:30px;border-radius:8px;
    background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.25);
    color:#fff;font-size:18px;line-height:28px;text-align:center;cursor:pointer;
  }
  .cs-tile-body{padding:14px;overflow:auto;}
</style>
</head>
<body class="console-mode">

  <!-- Backdrop -->
  <div class="backdrop" aria-hidden="true">
    <div class="backdrop-image"></div>
    <div class="backdrop-overlay"></div>
  </div>

  <!-- Tabs -->
  <div class="cs-tabs">
    <button class="cs-tab" data-key="overview">Overview</button>
    <button class="cs-tab" data-key="itinerary">Itinerary</button>
    <button class="cs-tab" data-key="values">Value Calc</button>
    <button class="cs-tab" data-key="tools">User Tools</button>
  </div>

  <!-- Exit -->
  <button id="exitFs" class="console-exit">×</button>

  <!-- Tiles stage -->
  <div id="cs-tiles"></div>

<script>
(function(){
  const stage=document.getElementById('cs-tiles');
  let zTop=10;

  const TEMPLATES={
    overview:()=>`
      <header class="cs-tile-head"><h4>Overview</h4><button class="cs-close">×</button></header>
      <div class="cs-tile-body"><p>Overview content goes here.</p></div>`,
    itinerary:()=>`
      <header class="cs-tile-head"><h4>Itinerary</h4><button class="cs-close">×</button></header>
      <div class="cs-tile-body"><p>Itinerary content goes here.</p></div>`,
    values:()=>`
      <header class="cs-tile-head"><h4>Value Calc</h4><button class="cs-close">×</button></header>
      <div class="cs-tile-body"><p>Value calculation content goes here.</p></div>`,
    tools:()=>`
      <header class="cs-tile-head"><h4>User Tools</h4><button class="cs-close">×</button></header>
      <div class="cs-tile-body"><p>User tools content goes here.</p></div>`
  };

  function centerPos(tile){
    const w=tile.offsetWidth,h=Math.min(tile.offsetHeight,window.innerHeight*0.76);
    const x=(window.innerWidth-w)/2;
    const y=Math.max(18,(window.innerHeight-h)/2);
    return {x,y};
  }

  function addHandlers(tile){
    function focus(){tile.style.zIndex=++zTop;tile.classList.add('is-focused');}
    function blur(){tile.classList.remove('is-focused');}
    tile.addEventListener('pointerdown',focus);
    tile.addEventListener('pointerup',blur);

    // Dragging
    let isDown=false,startX=0,startY=0,baseX=0,baseY=0;
    function onDown(e){
      if(e.button!==0)return;
      isDown=true;focus();
      startX=e.clientX;startY=e.clientY;
      const r=tile.getBoundingClientRect();baseX=r.left;baseY=r.top;
      e.preventDefault();
    }
    function onMove(e){
      if(!isDown)return;
      const dx=e.clientX-startX,dy=e.clientY-startY;
      tile.style.left=(baseX+dx)+'px';tile.style.top=(baseY+dy)+'px';
    }
    function onUp(){isDown=false;}
    tile.addEventListener('pointerdown',onDown);
    window.addEventListener('pointermove',onMove);
    window.addEventListener('pointerup',onUp);

    // Close
    tile.querySelector('.cs-close').addEventListener('click',()=>tile.remove());
  }

  function openTile(key){
    const existing=stage.querySelector(\`.cs-tile[data-key="\${key}"]\`);
    if(existing){existing.style.zIndex=++zTop;return;}
    const el=document.createElement('section');
    el.className='cs-tile';el.dataset.key=key;
    el.innerHTML=(TEMPLATES[key]||(()=>'<p>No template</p>'))();
    stage.appendChild(el);el.style.zIndex=++zTop;
    const {x,y}=centerPos(el);
    el.style.left=x+'px';el.style.top=y+'px';
    addHandlers(el);
  }

  document.querySelectorAll('.cs-tab').forEach(btn=>{
    btn.addEventListener('click',()=>openTile(btn.dataset.key));
  });
})();
</script>

</body>
</html>
