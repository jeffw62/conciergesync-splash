<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Welcome • ConciergeSync™</title>
  <style>
    /* --- Gold watermark background --- */
    .cs-bg{
      position:fixed; inset:0; z-index:-2;
      background:url('/beta/assets/CS_Logo_Premium.png') center/500px repeat;
      opacity:.75; pointer-events:none;
    }

    :root{
      --glass: rgba(255,255,255,.10);
      --brd:   rgba(255,255,255,.28);
      --ink:   #eaf2ff;
      --muted: #9fb0c8;
    }
    html,body{height:100%}
    body{
      margin:0; color:var(--ink); background:#0b0f14;
      font-family:system-ui,-apple-system,Segoe UI,Inter,Arial,sans-serif;
      display:grid; place-items:center; padding:18px;
    }

    .tile{
      width:min(450px, 92vw);
      border-radius:18px;
      background:var(--glass);
      border:1px solid var(--brd);
      backdrop-filter: blur(12px) saturate(1.2);
      box-shadow:0 22px 60px rgba(0,0,0,.45);
      padding: clamp(20px, 3.5vw, 30px);
    }
    h1{margin:0 0 8px; font-size: clamp(26px,4vw,34px); text-align:center; font-weight:800; letter-spacing:-.01em}
    .lead{margin:6px 0 18px; text-align:center; color:var(--muted)}
    .tabs{display:flex; gap:10px; justify-content:center; margin:8px 0 16px}
    .tab{
      padding:8px 12px; border-radius:999px; font-weight:700; border:1px solid rgba(255,255,255,.35);
      background:rgba(255,255,255,.06); color:#fff; cursor:pointer; user-select:none;
    }
    .tab.is-active{ background:rgba(255,255,255,.14) }

    form{margin:0}
    .row{display:grid; grid-template-columns:1fr 1fr; gap:10px; margin:8px 0}
    .row.single{ grid-template-columns:1fr }
    label{font-size:13px; color:#cbd7ea; display:block; margin:6px 0}
    input[type="text"], input[type="email"]{
      width:100%; padding:12px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.28);
      background:rgba(0,0,0,.35); color:#fff; outline:none;
    }
    input[aria-invalid="true"]{ border-color:#ff6b6b; }
    .err{ display:none; color:#ffb3b3; font-size:12px; margin-top:6px }
    .actions{ margin-top:14px; display:flex; gap:10px; justify-content:center }
    .btn{
      padding:12px 18px; border-radius:999px; font-weight:800; border:1px solid rgba(255,255,255,.45);
      background:rgba(255,255,255,.10); color:#fff; cursor:pointer;
    }
    .status{ opacity:0; transition:.15s; text-align:center; margin-top:8px; color:#cbd7ea; font-size:14px }
    .status.show{ opacity:1 }
    .foot{ margin-top:14px; color:#a7b4c9; font-size:12px; text-align:center }

    /* Keep the card at 500px */
    .card{ width: min(500px, calc(100vw - 32px)); margin-inline:auto; }

    /* Form spacing */
    #gate{ padding-inline:12px; }
    #nameRow{
      display:grid;
      grid-template-columns: 1fr 1fr;
      column-gap:12px;
    }
    #gate input[type="text"],
    #gate input[type="email"]{
      width:100%;
      box-sizing:border-box;
    }
    @media (max-width:520px){
      #nameRow{ grid-template-columns: 1fr; row-gap:12px; }
    }
  </style>
</head>
<body>
  <div class="cs-bg"></div>

  <main class="tile" role="main" aria-labelledby="hdr">
    <h1 id="hdr">Welcome To<br/>ConciergeSync™</h1>
    <p class="lead">Sign in or create your account with your email.</p>

    <!-- Swapped order: New User tab is now first (left side) -->
    <div class="tabs" role="tablist" aria-label="Auth mode">
      <button id="tabReg"   class="tab is-active" role="tab" aria-selected="true">New user? Register</button>
      <button id="tabLogin" class="tab" role="tab" aria-selected="false">Returning user? Log in</button>
    </div>

    <form id="gate" novalidate>
      <div id="nameRow" class="row">
        <div>
          <label for="first">First name</label>
          <input id="first" type="text" autocomplete="given-name"/>
          <div id="errFirst" class="err">First name is required.</div>
        </div>
        <div>
          <label for="last">Last name</label>
          <input id="last" type="text" autocomplete="family-name"/>
          <div id="errLast" class="err">Last name is required.</div>
        </div>
      </div>

      <div class="row single">
        <div>
          <label for="email">Email (your LoginID)</label>
          <input id="email" type="email" inputmode="email" autocomplete="email" placeholder="you@example.com"/>
          <div id="errEmail" class="err">Please enter a valid email address.</div>
        </div>
      </div>

      <div id="agreeRow" class="row single" style="display:none">
        <div>
          <label style="display:flex;align-items:center;gap:8px">
            <input id="agree" name="cs_agree" type="checkbox" />
            <span>I agree to Terms &amp; Privacy.</span>
          </label>
          <div id="errAgree" class="err">You must agree to continue.</div>
        </div>
      </div>

      <div class="actions">
        <button id="doSubmit" class="btn" type="submit">Create account</button>
      </div>
      <div id="status" class="status" aria-live="polite"></div>
    </form>

    <div class="foot">Protected by rate-limiting and verification. We'll never share your email.</div>
  </main>

  <!-- Firebase + auth logic -->
  <script type="module">
    // Firebase SDK + Firestore logic unchanged...
    // (your entire script block stays the same)
  </script>
</body>
</html>
