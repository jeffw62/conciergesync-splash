<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Sign in • ConciergeSync™</title>
  <style>
    :root{
      --card:#11151b; --ink:#eaf0f7; --muted:#a6b0bf; --accent:#fff; --accentText:#0c1117;
      --ring: rgba(255,255,255,.18);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:#0a0f14; color:var(--ink);
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      display:grid; place-items:center; padding:24px;
    }
    .card{
      width:min(720px,92vw); border:1px solid var(--ring); background:rgba(17,21,27,.85);
      border-radius:18px; padding:28px; box-shadow:0 20px 60px rgba(0,0,0,.35), 0 0 1px rgba(255,255,255,.06);
    }
    h1{margin:0 0 10px; font-size:32px; line-height:1.2}
    p.sub{margin:0 0 20px; color:var(--muted)}
    .row{display:flex; gap:10px; flex-wrap:wrap}
    input[type="email"]{
      flex:1 1 280px; min-width:260px; padding:12px 14px; border-radius:12px;
      border:1px solid var(--ring); background:#0d131a; color:var(--ink); font-size:16px;
      outline:none;
    }
    input[type="email"]:focus{border-color:#7cc4ff; box-shadow:0 0 0 3px rgba(124,196,255,.15)}
    .btn{
      padding:12px 16px; border-radius:12px; border:1px solid var(--ring); font-weight:800; cursor:pointer;
      background:transparent; color:var(--ink);
    }
    .btn.primary{ background:var(--accent); color:var(--accentText); border-color:var(--accent) }
    .btn.ghost{ background:transparent; }
    .meta{margin-top:12px; color:#9aa6b2; font-size:.92rem}
    .actions{display:flex; gap:10px; margin-top:12px; flex-wrap:wrap}
    .right{margin-left:auto}
  </style>
</head>
<body>

  <main class="card" role="main" aria-labelledby="title">
    <h1 id="title">Sign in to ConciergeSync™</h1>
    <p class="sub">Enter your email to continue to your console.</p>

    <form id="signin" autocomplete="on">
      <div class="row">
        <input id="email" name="email" type="email" inputmode="email" autocomplete="email"
               placeholder="you@example.com" required />
        <button class="btn primary" type="submit">Enter Console</button>
        <a class="btn ghost right" href="/beta/01-index.html?open=overview">What is ConciergeSync?</a>
      </div>
      <div class="meta">No bank logins required.</div>
    </form>
  </main>

  <script>
    (function(){
      // Always start truly logged-out on this page
      try {
        sessionStorage.removeItem('cs_authed');
        localStorage.removeItem('cs_authed');
        document.cookie = 'cs_auth=; Max-Age=0; path=/; SameSite=Lax';

        // Optional: clear profile hints so the page never flips to a "welcome back" variant
        sessionStorage.removeItem('cs_uid'); localStorage.removeItem('cs_uid');
        // Keep email if you want the field prefilled; otherwise clear it:
        // sessionStorage.removeItem('cs_email'); localStorage.removeItem('cs_email');
      } catch(_) {}

      // Prefill email if we still have it
      const emailInput = document.getElementById('email');
      const savedEmail = localStorage.getItem('cs_email') || sessionStorage.getItem('cs_email') || '';
      if (savedEmail) emailInput.value = savedEmail;

      // Simple sign-in: store email, mark authed, jump to console
      document.getElementById('signin').addEventListener('submit', function(e){
        e.preventDefault();
        const email = (emailInput.value || '').trim();
        if (!email) { emailInput.focus(); return; }

        try {
          sessionStorage.setItem('cs_email', email);
          localStorage.setItem('cs_email', email);
          sessionStorage.setItem('cs_authed','1');
          localStorage.setItem('cs_authed','1');
          document.cookie = 'cs_auth=1; path=/; max-age=7200; SameSite=Lax';
        } catch(_) {}

        // Go straight into console in "enter" mode
        window.location.assign('/beta/01-index.html?enter=1&open=overview');
      });
    })();
  </script>
</body>
</html>
